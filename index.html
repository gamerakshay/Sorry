<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To My Forever Love üíï</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=Satisfy&family=Great+Vibes&family=Lora:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
    
    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        :root {
            --blush-pink: #FFE4EC;
            --soft-rose: #FFB6C1;
            --lavender: #E6E6FA;
            --warm-beige: #FFF5EE;
            --deep-rose: #DB7093;
            --soft-gold: #FFD700;
            --cream: #FFFAF0;
            --text-dark: #5D4E60;
            --text-light: #8B7D8E;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background: linear-gradient(135deg, var(--cream) 0%, var(--blush-pink) 50%, var(--lavender) 100%);
            color: var(--text-dark);
            overflow-x: hidden;
            min-height: 100vh;
            perspective: 1000px;
        }

        /* Apple-style smooth animations */
        .content-wrapper {
            will-change: transform, opacity, filter;
        }

        .poetic-line, .section-title, .gallery-item, .final-note {
            will-change: transform, opacity, filter;
            transform-style: preserve-3d;
        }

        .gallery {
            perspective: 1200px;
        }

        .gallery-item {
            transform-style: preserve-3d;
            backface-visibility: hidden;
        }

        /* Floating Hearts Background */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            color: var(--soft-rose);
            opacity: 0.4;
            animation: floatHeart 15s infinite ease-in-out;
        }

        @keyframes floatHeart {
            0%, 100% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.4;
            }
            90% {
                opacity: 0.4;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Music Control */
        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--soft-rose);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 20px rgba(219, 112, 147, 0.3);
            transition: all 0.3s ease;
        }

        .music-control:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(219, 112, 147, 0.5);
        }

        .music-control.playing {
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 4px 20px rgba(219, 112, 147, 0.3); }
            50% { box-shadow: 0 4px 40px rgba(219, 112, 147, 0.6); }
        }

        /* Sections */
        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            position: relative;
            z-index: 1;
        }

        .content-wrapper {
            max-width: 800px;
            text-align: center;
            padding: 40px;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(180deg, rgba(255,255,255,0.3) 0%, rgba(255,228,236,0.5) 100%);
        }

        .hero h1 {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(3rem, 8vw, 6rem);
            color: var(--deep-rose);
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(30px);
        }

        .hero .subtitle {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            color: var(--text-light);
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(30px);
        }

        .hero .opening-line {
            font-family: 'Lora', serif;
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            line-height: 2;
            font-style: italic;
            color: var(--text-dark);
            opacity: 0;
            transform: translateY(30px);
        }

        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
            opacity: 0;
        }

        .scroll-indicator span {
            font-size: 30px;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-20px); }
            60% { transform: translateX(-50%) translateY(-10px); }
        }

        /* Section Titles */
        .section-title {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2.5rem, 6vw, 4rem);
            color: var(--deep-rose);
            margin-bottom: 50px;
            position: relative;
        }

        .section-title::after {
            content: '‚ù§';
            display: block;
            font-size: 1.5rem;
            margin-top: 15px;
            opacity: 0.6;
        }

        /* Poetic Lines */
        .poetic-line {
            font-family: 'Lora', serif;
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            line-height: 2.2;
            margin: 25px 0;
            color: var(--text-dark);
            opacity: 0;
            transform: translateY(40px);
        }

        .poetic-line.highlight {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(1.5rem, 3.5vw, 2rem);
            color: var(--deep-rose);
        }

        .poetic-line em {
            color: var(--deep-rose);
            font-style: normal;
            font-weight: 500;
        }

        /* Failed Section */
        .failed-section {
            background: linear-gradient(180deg, rgba(230,230,250,0.3) 0%, rgba(255,246,238,0.5) 100%);
        }

        /* Mean to Me Section */
        .meaning-section {
            background: linear-gradient(180deg, rgba(255,182,193,0.2) 0%, rgba(255,255,255,0.3) 100%);
        }

        /* Memories Section */
        .memories-section {
            background: linear-gradient(180deg, rgba(255,245,238,0.5) 0%, rgba(230,230,250,0.3) 100%);
            padding: 80px 20px;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            max-width: 1200px;
            width: 100%;
            padding: 20px;
        }

        .gallery-item {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            aspect-ratio: 4/3;
            cursor: pointer;
            opacity: 1;
            transform: scale(1);
            transition: all 0.4s ease;
        }

        .gallery-item.reveal {
            opacity: 0;
            transform: scale(0.9);
        }

        .gallery-item.uploaded {
            opacity: 1 !important;
            transform: scale(1) !important;
        }

        .gallery-item:hover {
            transform: scale(1.03) !important;
            box-shadow: 0 20px 60px rgba(219, 112, 147, 0.3);
        }

        .gallery-item img,
        .gallery-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img,
        .gallery-item:hover video {
            transform: scale(1.1);
        }

        .gallery-item .overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(transparent 50%, rgba(219, 112, 147, 0.8));
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .gallery-item:hover .overlay {
            opacity: 1;
        }

        .gallery-item .caption {
            font-family: 'Dancing Script', cursive;
            color: white;
            font-size: 1.3rem;
            text-align: center;
        }

        .add-media-placeholder {
            background: linear-gradient(135deg, var(--blush-pink), var(--lavender));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 3px dashed var(--soft-rose);
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 1 !important;
            transform: scale(1) !important;
        }

        .add-media-placeholder:hover {
            background: linear-gradient(135deg, var(--soft-rose), var(--blush-pink));
            border-color: var(--deep-rose);
        }

        .add-media-placeholder span {
            font-size: 3rem;
            color: var(--deep-rose);
            margin-bottom: 10px;
        }

        .add-media-placeholder p {
            font-family: 'Dancing Script', cursive;
            font-size: 1.2rem;
            color: var(--text-dark);
        }

        /* Promise Section */
        .promise-section {
            background: linear-gradient(180deg, rgba(255,228,236,0.5) 0%, rgba(255,182,193,0.3) 100%);
        }

        .promise-reveal {
            margin-top: 40px;
            opacity: 0;
            transform: translateY(30px);
        }

        .reveal-btn {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            padding: 20px 50px;
            background: linear-gradient(135deg, var(--deep-rose), var(--soft-rose));
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 40px rgba(219, 112, 147, 0.4);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .reveal-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(219, 112, 147, 0.6);
        }

        .reveal-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .reveal-btn:hover::before {
            left: 100%;
        }

        .promise-content {
            display: none;
            margin-top: 40px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(219, 112, 147, 0.2);
        }

        .promise-content.revealed {
            display: block;
            animation: fadeInUp 1s ease forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Forgive Me Section */
        .forgive-section {
            background: linear-gradient(180deg, rgba(255,255,255,0.5) 0%, rgba(255,228,236,0.7) 100%);
            min-height: 100vh;
        }

        .forgive-buttons {
            display: flex;
            gap: 40px;
            margin-top: 50px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            min-height: 150px;
            position: relative;
        }

        .forgive-btn {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            padding: 25px 60px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .yes-btn {
            background: linear-gradient(135deg, #FF6B9D, var(--deep-rose));
            color: white;
            box-shadow: 0 10px 40px rgba(219, 112, 147, 0.5);
        }

        .yes-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 50px rgba(219, 112, 147, 0.7);
        }

        .no-btn {
            background: linear-gradient(135deg, #A0A0A0, #808080);
            color: white;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.15s ease-out;
        }

        .no-btn.escaping {
            position: fixed;
            z-index: 1000;
        }

        .no-btn:hover {
            transform: scale(1.05);
        }

        .no-tooltip {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--deep-rose);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-family: 'Dancing Script', cursive;
            font-size: 1rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .no-btn:hover .no-tooltip {
            opacity: 1;
        }

        .forgive-response {
            display: none;
            text-align: center;
            animation: fadeInUp 1s ease forwards;
        }

        .forgive-response.show {
            display: block;
        }

        .forgive-response h2 {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2.5rem, 6vw, 4rem);
            color: var(--deep-rose);
            margin-bottom: 30px;
        }

        .forgive-response p {
            font-family: 'Lora', serif;
            font-size: 1.4rem;
            color: var(--text-dark);
            line-height: 2;
        }

        /* Final Note Section */
        .final-section {
            background: linear-gradient(180deg, rgba(255,182,193,0.3) 0%, rgba(219,112,147,0.4) 100%);
        }

        .final-note {
            background: rgba(255, 255, 255, 0.8);
            padding: 60px 50px;
            border-radius: 30px;
            box-shadow: 0 30px 80px rgba(219, 112, 147, 0.3);
            max-width: 700px;
            position: relative;
        }

        .final-note::before {
            content: 'üíå';
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 4rem;
        }

        .signature {
            font-family: 'Great Vibes', cursive;
            font-size: 2.5rem;
            color: var(--deep-rose);
            margin-top: 40px;
            text-align: right;
        }

        /* Animations for scroll reveal */
        .reveal {
            opacity: 0;
            transform: translateY(50px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            section {
                padding: 40px 15px;
            }

            .content-wrapper {
                padding: 20px;
            }

            .forgive-buttons {
                gap: 20px;
            }

            .forgive-btn {
                font-size: 1.4rem;
                padding: 18px 40px;
            }

            .final-note {
                padding: 40px 25px;
            }

            .music-control {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
        }

        /* Couple Animation */
        .couple-animation {
            width: 200px;
            height: 200px;
            margin: 30px auto;
            position: relative;
        }

        .couple-svg {
            width: 100%;
            height: 100%;
        }

        /* Heart burst effect */
        .heart-burst {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, var(--cream), var(--blush-pink));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.8s ease;
        }

        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-heart {
            font-size: 4rem;
            animation: heartbeat 1s infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .loading-text {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: var(--deep-rose);
            margin-top: 20px;
        }

        /* Lightbox */
        .lightbox {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox img,
        .lightbox video {
            max-width: 90%;
            max-height: 90%;
            border-radius: 10px;
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 3rem;
            color: white;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .lightbox-close:hover {
            transform: scale(1.2);
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-heart">üíï</div>
        <p class="loading-text">Loading with love...</p>
    </div>

    <!-- Floating Hearts Background -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <!-- Music Control -->
    <button class="music-control" id="musicControl" title="Play/Pause Music">
        <span id="musicIcon">üéµ</span>
    </button>
    
    <!-- Background Music - Photograph by Ed Sheeran -->
    <audio id="backgroundMusic" loop>
        <source src="photograph.mp3" type="audio/mpeg">
        <!-- Place photograph.mp3 in the love-letter folder -->
    </audio>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="content-wrapper">
            <h1 id="heroTitle">To My Forever Love</h1>
            <p class="subtitle" id="heroSubtitle">A letter from my heart to yours</p>
            <p class="opening-line" id="heroLine">
                I've been carrying words in my heart<br>
                that I should have said sooner...<br>
                Today, I'm finally letting them out.
            </p>
        </div>
        <div class="scroll-indicator" id="scrollIndicator">
            <span>üíï</span>
            <p style="font-family: 'Dancing Script', cursive; font-size: 1rem; color: var(--text-light);">Scroll with love</p>
        </div>
    </section>

    <!-- What I Failed To See Section -->
    <section class="failed-section" id="failedSection">
        <div class="content-wrapper">
            <h2 class="section-title reveal">What I Failed To See</h2>
            
            <p class="poetic-line reveal">
                Life got heavy,<br>
                and I let it weigh down <em>us</em>.
            </p>
            
            <p class="poetic-line reveal">
                I know I haven't been<br>
                the partner you deserved lately.
            </p>
            
            <p class="poetic-line reveal">
                I was so lost in the noise<br>
                that I forgot to hear your heart.
            </p>
            
            <p class="poetic-line reveal">
                I saw your patience,<br>
                but I didn't honor it.
            </p>
            
            <p class="poetic-line reveal">
                I felt your love,<br>
                but I didn't protect it.
            </p>
            
            <p class="poetic-line highlight reveal">
                And for that, I am deeply,<br>
                truly sorry.
            </p>

            <!-- Cute couple animation placeholder -->
            <div class="couple-animation reveal">
                <svg class="couple-svg" viewBox="0 0 200 200">
                    <!-- Simple romantic illustration -->
                    <defs>
                        <linearGradient id="heartGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FF6B9D;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#DB7093;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <!-- Heart shape -->
                    <path d="M100 180 C20 120 20 50 60 30 C80 20 100 40 100 60 C100 40 120 20 140 30 C180 50 180 120 100 180Z" 
                          fill="url(#heartGrad)" opacity="0.8">
                        <animate attributeName="d" 
                                 dur="2s" 
                                 repeatCount="indefinite"
                                 values="M100 180 C20 120 20 50 60 30 C80 20 100 40 100 60 C100 40 120 20 140 30 C180 50 180 120 100 180Z;
                                         M100 175 C25 115 25 55 60 35 C78 25 100 45 100 65 C100 45 122 25 140 35 C175 55 175 115 100 175Z;
                                         M100 180 C20 120 20 50 60 30 C80 20 100 40 100 60 C100 40 120 20 140 30 C180 50 180 120 100 180Z"/>
                    </path>
                    <!-- Sparkles -->
                    <circle cx="50" cy="60" r="3" fill="#FFD700" opacity="0.8">
                        <animate attributeName="opacity" values="0.8;0.2;0.8" dur="1.5s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="150" cy="60" r="3" fill="#FFD700" opacity="0.6">
                        <animate attributeName="opacity" values="0.6;0.2;0.6" dur="1.8s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="100" cy="30" r="2" fill="#FFD700" opacity="0.7">
                        <animate attributeName="opacity" values="0.7;0.3;0.7" dur="1.3s" repeatCount="indefinite"/>
                    </circle>
                </svg>
            </div>
        </div>
    </section>

    <!-- What You Mean To Me Section -->
    <section class="meaning-section" id="meaningSection">
        <div class="content-wrapper">
            <h2 class="section-title reveal">What You Mean To Me</h2>
            
            <p class="poetic-line reveal">
                You are my home,<br>
                my peace, my forever.
            </p>
            
            <p class="poetic-line reveal">
                In your eyes, I find calm.<br>
                In your arms, I find safety.
            </p>
            
            <p class="poetic-line reveal">
                You believed in me<br>
                when I couldn't believe in myself.
            </p>
            
            <p class="poetic-line reveal">
                You stayed when things got hard,<br>
                when leaving would've been easier.
            </p>
            
            <p class="poetic-line highlight reveal">
                This love means everything to me,<br>
                and I refuse to lose it.
            </p>
            
            <p class="poetic-line reveal">
                You are not just my wife ‚Äî<br>
                you are my greatest blessing.
            </p>
        </div>
    </section>

    <!-- Memories Section -->
    <section class="memories-section" id="memoriesSection">
        <div class="content-wrapper">
            <h2 class="section-title reveal">Our Beautiful Memories</h2>
            <p class="poetic-line reveal" style="margin-bottom: 40px;">
                Every moment with you<br>
                is a treasure I hold close.
            </p>
        </div>
        
        <div class="gallery">
            <div class="gallery-item reveal" onclick="openLightbox('images/IMG_6414.jpg', 'image')">
                <img src="images/IMG_6414.jpg" alt="Our memory together">
                <div class="overlay">
                    <span class="caption">Our sunny days üíï</span>
                </div>
            </div>
            <div class="gallery-item reveal" onclick="openLightbox('images/IMG_1673.jpg', 'image')">
                <img src="images/IMG_1673.jpg" alt="Our memory together">
                <div class="overlay">
                    <span class="caption">Close to my heart üíó</span>
                </div>
            </div>
            <div class="gallery-item reveal" onclick="openLightbox('images/IMG_4004.jpg', 'image')">
                <img src="images/IMG_4004.jpg" alt="Our memory together">
                <div class="overlay">
                    <span class="caption">My favorite person üíñ</span>
                </div>
            </div>
            <div class="gallery-item reveal" onclick="openLightbox('images/IMG_0679.jpg', 'image')">
                <img src="images/IMG_0679.jpg" alt="Our memory together">
                <div class="overlay">
                    <span class="caption">Together forever üíû</span>
                </div>
            </div>
            <div class="gallery-item reveal" onclick="openLightbox('images/IMG_4128.MOV', 'video')">
                <video src="images/IMG_4128.MOV" muted></video>
                <div class="overlay">
                    <span class="caption">Our beautiful moment üé¨</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Promise Section -->
    <section class="promise-section" id="promiseSection">
        <div class="content-wrapper">
            <h2 class="section-title reveal">My Promise To You</h2>
            
            <p class="poetic-line reveal">
                I want to grow, learn,<br>
                and cherish you ‚Äî today and always.
            </p>
            
            <div class="promise-reveal reveal">
                <button class="reveal-btn" id="revealBtn">
                    üíù Click to reveal my promise üíù
                </button>
                
                <div class="promise-content" id="promiseContent">
                    <p class="poetic-line" style="opacity: 1; transform: none;">
                        I promise to listen more<br>
                        and react less.
                    </p>
                    <p class="poetic-line" style="opacity: 1; transform: none;">
                        I promise to see your love<br>
                        even when I'm lost.
                    </p>
                    <p class="poetic-line" style="opacity: 1; transform: none;">
                        I promise to choose us<br>
                        over everything else.
                    </p>
                    <p class="poetic-line" style="opacity: 1; transform: none;">
                        I promise to be the partner<br>
                        you always deserved.
                    </p>
                    <p class="poetic-line highlight" style="opacity: 1; transform: none;">
                        I promise to love you harder,<br>
                        better, and forever.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Will You Forgive Me Section -->
    <section class="forgive-section" id="forgiveSection">
        <div class="content-wrapper">
            <h2 class="section-title reveal">Will You Forgive Me?</h2>
            
            <p class="poetic-line reveal">
                I know I can't undo the past,<br>
                but I can build a better future.
            </p>
            
            <p class="poetic-line reveal">
                So I ask you, with all my heart...
            </p>
            
            <div class="forgive-buttons reveal" id="forgiveButtons">
                <button class="forgive-btn yes-btn" id="yesBtn">Yes ‚ù§Ô∏è</button>
                <button class="forgive-btn no-btn" id="noBtn">
                    No üôà
                    <span class="no-tooltip" id="noTooltip">Nice try üòÑ</span>
                </button>
            </div>
            
            <div class="forgive-response" id="forgiveResponse">
                <h2>Thank you for choosing us ‚ù§Ô∏è</h2>
                <p>I promise to do better, every single day.</p>
                <p style="margin-top: 20px; font-family: 'Dancing Script', cursive; font-size: 1.8rem; color: var(--deep-rose);">
                    You are my forever, and I am yours.
                </p>
            </div>
        </div>
    </section>

    <!-- Final Love Note Section -->
    <section class="final-section" id="finalSection">
        <div class="content-wrapper">
            <h2 class="section-title reveal">My Final Words</h2>
            
            <div class="final-note reveal">
                <p class="poetic-line" style="opacity: 1; transform: none;">
                    You are not just my love story ‚Äî<br>
                    you are my whole story.
                </p>
                
                <p class="poetic-line" style="opacity: 1; transform: none;">
                    Thank you for being patient with me,<br>
                    even when I didn't deserve it.
                </p>
                
                <p class="poetic-line" style="opacity: 1; transform: none;">
                    Thank you for loving me<br>
                    through my worst days.
                </p>
                
                <p class="poetic-line highlight" style="opacity: 1; transform: none;">
                    You are irreplaceable,<br>
                    and I will spend my life<br>
                    making sure you feel that way.
                </p>
                
                <p class="poetic-line" style="opacity: 1; transform: none; margin-top: 30px;">
                    I love you.<br>
                    Yesterday. Today. Forever.
                </p>
                
                <p class="signature">
                    Forever Yours,<br>
                    Your Imperfect but Devoted Husband üíï
                </p>
            </div>
        </div>
    </section>

    <!-- Lightbox for images/videos -->
    <div class="lightbox" id="lightbox">
        <span class="lightbox-close" id="lightboxClose">&times;</span>
        <img id="lightboxImg" src="" alt="">
        <video id="lightboxVideo" controls style="display: none;"></video>
    </div>

    <script>
        // Initialize GSAP ScrollTrigger
        gsap.registerPlugin(ScrollTrigger);

        // Tooltips for the "No" button
        const noTooltips = [
            "Nice try üòÑ",
            "Not allowed üòú",
            "Because I choose us ‚ù§Ô∏è",
            "You can't escape my love üíï",
            "Nope! Try again üòä",
            "I won't give up üí™‚ù§Ô∏è",
            "Forever means forever üíç",
            "This button doesn't work üòè"
        ];

        let currentTooltipIndex = 0;
        let isPlaying = false;

        // Loading Screen
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
                initAnimations();
                // Start music when loading is complete
                startMusic();
            }, 2000);
        });

        // Auto-play music function
        function startMusic() {
            const backgroundMusic = document.getElementById('backgroundMusic');
            const musicIcon = document.getElementById('musicIcon');
            const musicControl = document.getElementById('musicControl');
            
            backgroundMusic.play().then(() => {
                isPlaying = true;
                musicIcon.textContent = 'üé∂';
                musicControl.classList.add('playing');
            }).catch(e => {
                console.log('Autoplay blocked, waiting for user interaction');
                // Try again on first user interaction
                document.addEventListener('click', function playOnClick() {
                    backgroundMusic.play().then(() => {
                        isPlaying = true;
                        musicIcon.textContent = 'üé∂';
                        musicControl.classList.add('playing');
                    }).catch(err => console.log('Still blocked'));
                }, { once: true });
            });
        }

        // Create floating hearts
        function createFloatingHearts() {
            const container = document.getElementById('floatingHearts');
            const hearts = ['üíï', 'üíñ', 'üíó', 'üíì', 'üíù', '‚ù§Ô∏è', 'ü§ç', 'üíû'];
            
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('span');
                heart.className = 'heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 15 + 's';
                heart.style.animationDuration = (15 + Math.random() * 10) + 's';
                heart.style.fontSize = (15 + Math.random() * 20) + 'px';
                container.appendChild(heart);
            }
        }

        createFloatingHearts();

        // Initialize animations
        function initAnimations() {
            // Hero animations
            gsap.to('#heroTitle', {
                opacity: 1,
                y: 0,
                duration: 1.2,
                ease: 'power3.out'
            });

            gsap.to('#heroSubtitle', {
                opacity: 1,
                y: 0,
                duration: 1.2,
                delay: 0.3,
                ease: 'power3.out'
            });

            gsap.to('#heroLine', {
                opacity: 1,
                y: 0,
                duration: 1.2,
                delay: 0.6,
                ease: 'power3.out'
            });

            gsap.to('#scrollIndicator', {
                opacity: 1,
                duration: 1,
                delay: 1.5,
                ease: 'power3.out'
            });

            // Apple-style hero parallax - fades and scales as you scroll
            gsap.to('.hero .content-wrapper', {
                scrollTrigger: {
                    trigger: '.hero',
                    start: 'top top',
                    end: 'bottom top',
                    scrub: true
                },
                y: 150,
                opacity: 0,
                scale: 0.9,
                filter: 'blur(10px)',
                ease: 'none'
            });

            // Section titles - Apple style large text reveal
            gsap.utils.toArray('.section-title').forEach((title) => {
                gsap.fromTo(title, 
                    {
                        opacity: 0,
                        y: 100,
                        scale: 0.8
                    },
                    {
                        scrollTrigger: {
                            trigger: title,
                            start: 'top 85%',
                            end: 'top 50%',
                            scrub: 1
                        },
                        opacity: 1,
                        y: 0,
                        scale: 1,
                        ease: 'power2.out'
                    }
                );
            });

            // Poetic lines - staggered word-by-word feel with smooth scrub
            gsap.utils.toArray('.poetic-line').forEach((line, index) => {
                gsap.fromTo(line, 
                    {
                        opacity: 0,
                        y: 60,
                        filter: 'blur(8px)'
                    },
                    {
                        scrollTrigger: {
                            trigger: line,
                            start: 'top 85%',
                            end: 'top 60%',
                            scrub: 0.5
                        },
                        opacity: 1,
                        y: 0,
                        filter: 'blur(0px)',
                        ease: 'power2.out'
                    }
                );
            });

            // Gallery items - Apple-style 3D card reveal
            gsap.utils.toArray('.gallery-item').forEach((item, index) => {
                gsap.fromTo(item, 
                    {
                        opacity: 0,
                        y: 100,
                        scale: 0.8,
                        rotateX: 15
                    },
                    {
                        scrollTrigger: {
                            trigger: item,
                            start: 'top 90%',
                            end: 'top 60%',
                            scrub: 1
                        },
                        opacity: 1,
                        y: 0,
                        scale: 1,
                        rotateX: 0,
                        ease: 'power3.out',
                        stagger: 0.1
                    }
                );
            });

            // Sections parallax background effect
            gsap.utils.toArray('section').forEach((section, index) => {
                if (index > 0) {
                    gsap.fromTo(section, 
                        {
                            backgroundPosition: '50% 0%'
                        },
                        {
                            scrollTrigger: {
                                trigger: section,
                                start: 'top bottom',
                                end: 'bottom top',
                                scrub: true
                            },
                            backgroundPosition: '50% 100%',
                            ease: 'none'
                        }
                    );
                }
            });

            // Content wrappers - smooth reveal
            gsap.utils.toArray('.content-wrapper').forEach((wrapper, index) => {
                if (index > 0) {
                    gsap.fromTo(wrapper, 
                        {
                            opacity: 0.3,
                            y: 80
                        },
                        {
                            scrollTrigger: {
                                trigger: wrapper,
                                start: 'top 80%',
                                end: 'top 40%',
                                scrub: 1
                            },
                            opacity: 1,
                            y: 0,
                            ease: 'power2.out'
                        }
                    );
                }
            });

            // Final note - dramatic entrance
            gsap.fromTo('.final-note', 
                {
                    opacity: 0,
                    y: 100,
                    scale: 0.9,
                    rotateX: 10
                },
                {
                    scrollTrigger: {
                        trigger: '.final-note',
                        start: 'top 85%',
                        end: 'top 50%',
                        scrub: 1
                    },
                    opacity: 1,
                    y: 0,
                    scale: 1,
                    rotateX: 0,
                    ease: 'power3.out'
                }
            );

            // Forgive buttons - bounce in
            gsap.fromTo('.forgive-buttons', 
                {
                    opacity: 0,
                    y: 50,
                    scale: 0.8
                },
                {
                    scrollTrigger: {
                        trigger: '.forgive-buttons',
                        start: 'top 80%',
                        end: 'top 60%',
                        scrub: 1
                    },
                    opacity: 1,
                    y: 0,
                    scale: 1,
                    ease: 'back.out(1.7)'
                }
            );

            // Promise reveal button
            gsap.fromTo('.promise-reveal', 
                {
                    opacity: 0,
                    y: 40
                },
                {
                    scrollTrigger: {
                        trigger: '.promise-reveal',
                        start: 'top 85%',
                        end: 'top 65%',
                        scrub: 1
                    },
                    opacity: 1,
                    y: 0,
                    ease: 'power2.out'
                }
            );
        }

        // Music Control click handler
        document.getElementById('musicControl').addEventListener('click', () => {
            const backgroundMusic = document.getElementById('backgroundMusic');
            const musicIcon = document.getElementById('musicIcon');
            const musicControl = document.getElementById('musicControl');
            
            if (isPlaying) {
                backgroundMusic.pause();
                musicIcon.textContent = 'üéµ';
                musicControl.classList.remove('playing');
                isPlaying = false;
            } else {
                backgroundMusic.play().catch(e => {
                    console.log('Music autoplay blocked, user interaction required');
                });
                musicIcon.textContent = 'üé∂';
                musicControl.classList.add('playing');
                isPlaying = true;
            }
        });

        // Reveal Promise Button
        const revealBtn = document.getElementById('revealBtn');
        const promiseContent = document.getElementById('promiseContent');

        revealBtn.addEventListener('click', () => {
            promiseContent.classList.add('revealed');
            revealBtn.style.display = 'none';
            
            // Trigger small confetti
            confetti({
                particleCount: 50,
                spread: 60,
                origin: { y: 0.7 },
                colors: ['#FFB6C1', '#FF69B4', '#DB7093', '#FFD700']
            });
        });

        // "No" Button Escape Logic
        const noBtn = document.getElementById('noBtn');
        const noTooltip = document.getElementById('noTooltip');
        const forgiveButtons = document.getElementById('forgiveButtons');
        let hasEscaped = false;

        function getRandomPosition() {
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const btnRect = noBtn.getBoundingClientRect();
            const btnWidth = btnRect.width || 150;
            const btnHeight = btnRect.height || 60;
            
            // Keep button strictly within viewport with generous padding
            const padding = 50;
            const minX = padding;
            const minY = padding;
            const maxX = viewportWidth - btnWidth - padding;
            const maxY = viewportHeight - btnHeight - padding;
            
            // Ensure min is less than max
            const safeMaxX = Math.max(minX, maxX);
            const safeMaxY = Math.max(minY, maxY);
            
            const randomX = minX + Math.random() * (safeMaxX - minX);
            const randomY = minY + Math.random() * (safeMaxY - minY);
            
            return { x: randomX, y: randomY };
        }

        function escapeNoButton(e) {
            e.preventDefault();
            e.stopPropagation();
            
            // Make button fixed position on first escape
            if (!hasEscaped) {
                const rect = noBtn.getBoundingClientRect();
                noBtn.classList.add('escaping');
                noBtn.style.left = rect.left + 'px';
                noBtn.style.top = rect.top + 'px';
                hasEscaped = true;
            }
            
            const newPos = getRandomPosition();
            const rotation = (Math.random() - 0.5) * 30;
            
            gsap.to(noBtn, {
                left: newPos.x + 'px',
                top: newPos.y + 'px',
                rotation: rotation,
                duration: 0.15,
                ease: 'power2.out'
            });

            // Change tooltip text
            currentTooltipIndex = (currentTooltipIndex + 1) % noTooltips.length;
            noTooltip.textContent = noTooltips[currentTooltipIndex];

            // Create floating heart on escape
            createHeartBurst(e.clientX || e.touches?.[0]?.clientX || 100, 
                           e.clientY || e.touches?.[0]?.clientY || 100);
        }

        // Desktop hover escape
        noBtn.addEventListener('mouseenter', escapeNoButton);
        noBtn.addEventListener('mousemove', escapeNoButton);

        // Mobile touch escape
        noBtn.addEventListener('touchstart', escapeNoButton, { passive: false });
        noBtn.addEventListener('touchmove', escapeNoButton, { passive: false });

        // Create heart burst effect
        function createHeartBurst(x, y) {
            const hearts = ['üíï', 'üíñ', 'üíó', '‚ù§Ô∏è'];
            
            for (let i = 0; i < 3; i++) {
                const heart = document.createElement('span');
                heart.className = 'heart-burst';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.position = 'fixed';
                heart.style.left = x + 'px';
                heart.style.top = y + 'px';
                heart.style.fontSize = '20px';
                heart.style.zIndex = '9999';
                document.body.appendChild(heart);

                gsap.to(heart, {
                    x: (Math.random() - 0.5) * 100,
                    y: -50 - Math.random() * 50,
                    opacity: 0,
                    scale: 1.5,
                    duration: 1,
                    ease: 'power2.out',
                    onComplete: () => heart.remove()
                });
            }
        }

        // Yes Button Click
        const yesBtn = document.getElementById('yesBtn');
        const forgiveResponse = document.getElementById('forgiveResponse');

        yesBtn.addEventListener('click', () => {
            // Hide buttons
            forgiveButtons.style.display = 'none';
            
            // Show response
            forgiveResponse.classList.add('show');
            
            // Celebration confetti
            const duration = 3000;
            const end = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#FFB6C1', '#FF69B4', '#DB7093', '#FFD700', '#FFF0F5']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#FFB6C1', '#FF69B4', '#DB7093', '#FFD700', '#FFF0F5']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            })();

            // Play music if not already playing
            if (!isPlaying) {
                backgroundMusic.play().catch(e => console.log('Autoplay blocked'));
                musicIcon.textContent = 'üé∂';
                musicControl.classList.add('playing');
                isPlaying = true;
            }
        });

        // Lightbox
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightboxImg');
        const lightboxVideo = document.getElementById('lightboxVideo');
        const lightboxClose = document.getElementById('lightboxClose');

        function openLightbox(src, type) {
            lightbox.classList.add('active');
            if (type === 'image') {
                lightboxImg.src = src;
                lightboxImg.style.display = 'block';
                lightboxVideo.style.display = 'none';
            } else {
                lightboxVideo.src = src;
                lightboxVideo.style.display = 'block';
                lightboxImg.style.display = 'none';
            }
        }

        lightboxClose.addEventListener('click', () => {
            lightbox.classList.remove('active');
            lightboxVideo.pause();
        });

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                lightbox.classList.remove('active');
                lightboxVideo.pause();
            }
        });

        // Parallax effect on scroll
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const hearts = document.querySelectorAll('.heart');
            
            hearts.forEach((heart, index) => {
                const speed = 0.5 + (index % 3) * 0.2;
                heart.style.transform = `translateY(${scrolled * speed}px)`;
            });
        });

        // Add some interactivity - click anywhere to create hearts
        document.addEventListener('click', (e) => {
            if (!e.target.closest('button') && !e.target.closest('.gallery-item') && !e.target.closest('.music-control')) {
                createHeartBurst(e.clientX, e.clientY);
            }
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
